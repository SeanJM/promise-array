!function(a,b){function c(a){return"undefined"!=typeof a&&"string"!=typeof a&&"function"==typeof a.then&&"function"==typeof a.catch}function d(a){if(Array.isArray(a)){for(var b=0,d=a.length;b<d;b++)if(!c(a[b]))return!1;return!0}return!1}function e(a,b,c){return new Promise(function(d,e){function g(b,h){var j=!!a.queue[b]&&a.queue[b][1],k=!!a.queue[b]&&a.queue[b][0];j?f(j(h,c)).then(function(a){"filter"===k&&a||"forEach"===k?g(b+1,h):"filter"===k?d(i):g(b+1,a)}).catch(e):d(h)}g(0,b)})}function f(a,b){(new Date).getTime();return new Promise(function(b,d){c(a)?a.then(function(a){b(a)}).catch(function(a){d(a)}):b(a)})}function g(a){var b=[];for(var c in a)b.push(a[c]);return b}function h(a){function b(){f===a.length-1&&c.resolve(g(h),g(j)),f++}var c=this,f=0,h={},j={};this.queue=[],this.method={resolve:[],reject:[]},setTimeout(function(){d(a)?a.forEach(function(d,f){d.then(function(a){e(c,a,f).then(function(a){a!==i&&(h[f]=a),b()})}).catch(function(c){j[f]={promise:a[f],error:c,index:f},b()})}):c.reject("Your array must be filled with Promises")},0)}var i="IhXQU9_SKsPm";h.prototype.forEach=function(a){return this.queue.push(["forEach",a]),this},h.prototype.filter=function(a){return this.queue.push(["filter",a]),this},h.prototype.map=function(a){return this.queue.push(["map",a]),this},h.prototype.catch=function(a){return this.method.reject.push(a),this},h.prototype.then=function(a){return this.method.resolve.push(a),this},h.prototype.resolve=function(a,b){return this.method.resolve.forEach(function(c){c(a,b)}),this.method={resolve:[],reject:[]},this},h.prototype.reject=function(a){return this.method.reject.forEach(function(b){b(a)}),this.method={resolve:[],reject:[]},this},"object"==typeof window?window.PromiseArray=h:"object"==typeof module&&(module.exports=h),b.true=a}({},function(){return this}());