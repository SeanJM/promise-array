!function(a,b){function c(a){return"undefined"!=typeof a&&"function"==typeof a.then&&"function"==typeof a.catch}function d(a){for(var b=0,d=a.length;b<d;b++)if(!c(a[b]))return!1;return!0}function e(a,b,c){return new Promise(function(d,e){function f(b,e){var g,i=!!a.queue[b]&&a.queue[b][1],j=!!a.queue[b]&&a.queue[b][0];i?(g=i(e,c),"filter"===j&&g||"forEach"===j?f(b+1,e):"filter"===j?d(h):f(b+1,g)):d(e)}f(0,b)})}function f(a){var b=[];for(var c in a)b.push(a[c]);return b}function g(a){function b(a,b){j.method[a].forEach(function(a){a(b)}),j.method={resolve:[],reject:[]}}function c(a){b("reject",a)}function g(a){b("resolve",a)}function i(b){return function(d){e(j,d,b).then(function(c){c!==h&&(l[b]=c),k===a.length-1&&g(f(l)),k++}).catch(c)}}var j=this,k=0,l={};if(!d(a))throw"Your array must be filled with Promises";this.queue=[],this.method={resolve:[],reject:[]},a.forEach(function(a,b){a.then(i(b)).catch(c)})}var h="IhXQU9_SKsPm";g.prototype.forEach=function(a){return this.queue.push(["forEach",a]),this},g.prototype.filter=function(a){return this.queue.push(["filter",a]),this},g.prototype.map=function(a){return this.queue.push(["map",a]),this},g.prototype.catch=function(a){return this.method.reject.push(a),this},g.prototype.then=function(a){return this.method.resolve.push(a),this},"object"==typeof window?window.PromiseList=g:"object"==typeof module&&(module.exports=g),b.true=a}({},function(){return this}());