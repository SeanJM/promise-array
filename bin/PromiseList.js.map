{"version":3,"sources":["../src/constants/constants.js","../src/predicates/isPromise.js","../src/predicates/isPromiseList.js","../src/custom/chain.js","../src/custom/toArray.js","../src/main/PromiseList.js","../src/exports/exports.js"],"names":[],"mappings":"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","file":"PromiseList.js","sourcesContent":["var REJECT_VALUE = 'IhXQU9_SKsPm';\n","function isPromise(obj) {\n  return (\n    typeof obj !== 'undefined'\n    && typeof obj.then === 'function'\n    && typeof obj.catch === 'function'\n  );\n}\n","function isPromiseList(list) {\n  for (var i = 0, n = list.length; i < n; i++) {\n    if (!isPromise(list[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","function chain(self, value, index) {\n  return new Promise(\n    function (resolve, reject) {\n\n      function each(i, value) {\n        var callback = self.queue[i]\n          ? self.queue[i][1]\n          : false;\n\n        var method = self.queue[i]\n          ? self.queue[i][0]\n          : false;\n\n        var result;\n\n        if (callback) {\n          result = callback(value, index);\n          if ((\n            method === 'filter' && result\n          ) || (\n            method === 'forEach'\n          )) {\n            each(i + 1, value);\n          } else if (method === 'filter') {\n            resolve(REJECT_VALUE);\n          } else {\n            each(i + 1, result);\n          }\n        } else {\n          resolve(value);\n        }\n      }\n\n      each(0, value);\n    }\n  );\n}\n","function toArray(object) {\n  var array = [];\n\n  for (var k in object) {\n    array.push(object[k]);\n  }\n\n  return array;\n}\n","function PromiseList(list) {\n  var self = this;\n  var index = 0;\n  var result = {};\n\n  function r(method, value) {\n    self.method[method]\n      .forEach(function (c) {\n        c(value);\n      });\n    self.method = { resolve : [], reject : [] };\n  }\n\n  function reject(value) {\n    r('reject', value);\n  }\n\n  function resolve(value) {\n    r('resolve', value);\n  }\n\n  function thenChain(i) {\n    return function (value) {\n      chain(self, value, i)\n        .then(function (value) {\n          if (value !== REJECT_VALUE) {\n            result[i] = value;\n          }\n\n          if (index === list.length - 1) {\n            resolve(toArray(result));\n          }\n\n          index++;\n        })\n        .catch(reject);\n    };\n  }\n\n  if (!isPromiseList(list)) {\n    throw 'Your array must be filled with Promises';\n  }\n\n  this.queue = [];\n\n  this.method = {\n    resolve : [],\n    reject : []\n  };\n\n  list.forEach(function (promise, i) {\n    promise\n      .then(thenChain(i))\n      .catch(reject);\n  });\n}\n\nPromiseList.prototype.forEach = function (callback) {\n  this.queue.push(['forEach', callback]);\n  return this;\n};\n\nPromiseList.prototype.filter = function (callback) {\n  this.queue.push(['filter', callback]);\n  return this;\n};\n\nPromiseList.prototype.map = function (callback) {\n  this.queue.push(['map', callback]);\n  return this;\n};\n\nPromiseList.prototype.catch = function (callback) {\n  this.method.reject.push(callback);\n  return this;\n};\n\nPromiseList.prototype.then = function (callback) {\n  this.method.resolve.push(callback);\n  return this;\n};\n","if (typeof window === 'object') {\n  window.PromiseList = PromiseList;\n} else if (typeof module === 'object') {\n  module.exports = PromiseList;\n}\n"]}